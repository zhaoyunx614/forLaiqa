<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Laiqa - Letters Collection</title>
    
    <!-- ==================== STYLES SECTION ==================== -->
    <style>
        /* ========== GLOBAL STYLES ========== */
        /* Reset default browser styles and set base properties */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Main body styling with earthy background */
        body {
            font-family: 'Times New Roman', serif;
            background-color: #B6AD90; /* Earthy tone background */
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* ========== HOME PAGE STYLES ========== */
        /* Container for the main home page */
        #homePage {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
            position: relative;
        }

        /* Central title styling with medieval aesthetic */
        .main-title {
            font-size: clamp(2.5rem, 5vw, 4rem); /* Responsive font size */
            color: #3a3428;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            margin: 20px 0;
            position: relative;
            z-index: 10;
            font-weight: bold;
            letter-spacing: 3px;
        }

        /* Sparkle animation for title */
        @keyframes sparkle {
            0%, 100% { opacity: 0; }
            50% { opacity: 1; }
        }

        /* Individual sparkle elements */
        .sparkle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: radial-gradient(circle, #fff, #ffd700);
            border-radius: 50%;
            animation: sparkle 1.5s infinite;
        }

        /* Position sparkles around title */
        .sparkle:nth-child(1) { top: -5px; left: 10%; animation-delay: 0s; }
        .sparkle:nth-child(2) { top: -8px; left: 30%; animation-delay: 0.3s; }
        .sparkle:nth-child(3) { top: -5px; left: 50%; animation-delay: 0.6s; }
        .sparkle:nth-child(4) { top: -8px; left: 70%; animation-delay: 0.9s; }
        .sparkle:nth-child(5) { top: -5px; left: 90%; animation-delay: 1.2s; }
        .sparkle:nth-child(6) { bottom: -5px; left: 5%; animation-delay: 0.2s; }
        .sparkle:nth-child(7) { bottom: -8px; left: 25%; animation-delay: 0.5s; }
        .sparkle:nth-child(8) { bottom: -5px; left: 45%; animation-delay: 0.8s; }
        .sparkle:nth-child(9) { bottom: -8px; left: 65%; animation-delay: 1.1s; }
        .sparkle:nth-child(10) { bottom: -5px; left: 85%; animation-delay: 1.4s; }

        /* ========== ENVELOPE GRID STYLES ========== */
        /* Container for envelope layout */
        .envelopes-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 30px;
            max-width: 900px;
            width: 100%;
            padding: 40px 20px;
            justify-items: center;
        }

        /* Individual envelope styling */
        .envelope {
            width: 100px;
            height: 70px;
            background: linear-gradient(135deg, #f4e8d0 0%, #e8dcc0 100%);
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 3px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        /* Envelope top flap (triangle) */
        .envelope::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 0;
            border-left: 50px solid transparent;
            border-right: 50px solid transparent;
            border-top: 35px solid #ede1c9;
            transform-origin: top center;
            transition: transform 0.5s ease;
        }

        /* Envelope number label */
        .envelope-number {
            position: absolute;
            bottom: 5px;
            right: 5px;
            font-size: 12px;
            color: #6b5d4f;
            font-weight: bold;
        }

        /* Envelope hover effect */
        .envelope:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        /* Glowing animation when clicked */
        @keyframes envelopeGlow {
            0% { box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
            50% { box-shadow: 0 0 30px #ffd700, 0 0 50px #ffd700; }
            100% { box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        }

        /* Open envelope animation */
        .envelope.opening {
            animation: envelopeGlow 1s ease;
        }

        .envelope.opening::before {
            transform: rotateX(180deg);
        }

        /* ========== LETTER PAGE STYLES ========== */
        /* Container for individual letter pages */
        .letter-page {
            display: none;
            min-height: 100vh;
            padding: 40px 20px;
            background: linear-gradient(135deg, #B6AD90 0%, #a39980 100%);
            position: relative;
        }

        /* Active letter page display */
        .letter-page.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        /* Fade in animation */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Letter content container with parchment effect */
        .letter-content {
            max-width: 800px;
            margin: 0 auto;
            background: linear-gradient(to bottom, #f7f3e9, #f0e8d8);
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            min-height: 500px;
            position: relative;
            border: 2px solid #d4c5a0;
        }

        /* Letter title styling */
        .letter-title {
            font-size: 2rem;
            color: #3a3428;
            margin-bottom: 20px;
            text-align: center;
            border-bottom: 2px solid #d4c5a0;
            padding-bottom: 15px;
        }

        /* Letter text content */
        .letter-text {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #4a4032;
            margin-bottom: 20px;
            white-space: pre-wrap;
        }

        /* Image gallery in letters */
        .letter-images {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 20px 0;
        }

        .letter-images img {
            width: 100%;
            height: auto;
            border-radius: 5px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

        /* PDF viewer container */
        .pdf-container {
            height: 100%;
            width: 100%;
            margin: 20px 0;
            border: 2px solid #d4c5a0;
            border-radius: 5px;
            overflow: hidden;
            background: white;
        }

        .pdf-pages {
            display: flex;
            flex-direction: column;
            gap: 10px;
            padding: 10px;
        }

        .pdf-page {
            width: 100%;
            border: 1px solid #ddd;
            border-radius: 3px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .pdf-loading {
            text-align: center;
            padding: 40px;
            color: #6b5d4f;
            font-size: 1.1rem;
        }

        /* ========== MUSIC PLAYER STYLES ========== */
        /* Container for music players */
        .music-players {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 30px 0;
            padding: 20px;
            background: rgba(255,255,255,0.3);
            border-radius: 10px;
        }

        /* Individual music player widget */
        .music-player {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 10px;
            background: rgba(255,255,255,0.5);
            border-radius: 8px;
            transition: background 0.3s ease;
        }

        .music-player:hover {
            background: rgba(255,255,255,0.7);
        }

        /* Play/Pause button styling */
        .play-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #6b5d4f, #4a4032);
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            position: relative;
        }

        .play-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 3px 10px rgba(0,0,0,0.3);
        }

        /* Play icon (triangle) */
        .play-icon {
            width: 0;
            height: 0;
            border-left: 12px solid white;
            border-top: 8px solid transparent;
            border-bottom: 8px solid transparent;
            margin-left: 3px;
        }

        /* Pause icon (two bars) */
        .pause-icon {
            display: none;
            width: 15px;
            height: 15px;
            position: relative;
        }

        .pause-icon::before,
        .pause-icon::after {
            content: '';
            position: absolute;
            width: 4px;
            height: 15px;
            background: white;
        }

        .pause-icon::before { left: 2px; }
        .pause-icon::after { right: 2px; }

        /* Toggle play/pause icons */
        .play-btn.playing .play-icon { display: none; }
        .play-btn.playing .pause-icon { display: block; }

        /* Song title styling */
        .song-title {
            font-size: 1rem;
            color: #3a3428;
            font-weight: 500;
            flex: 1;
        }

        /* Progress bar for music */
        .progress-bar {
            flex: 1;
            height: 6px;
            background: rgba(0,0,0,0.1);
            border-radius: 3px;
            position: relative;
            cursor: pointer;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #6b5d4f, #8b7355);
            border-radius: 3px;
            width: 0%;
            transition: width 0.1s linear;
        }

        /* ========== BACK BUTTON STYLES ========== */
        .back-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            padding: 12px 24px;
            background: linear-gradient(135deg, #6b5d4f, #4a4032);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-family: 'Times New Roman', serif;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            z-index: 100;
        }

        .back-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            background: linear-gradient(135deg, #7a6a5a, #5a4a3a);
        }

        /* ========== RESPONSIVE DESIGN ========== */
        /* Tablet landscape (1024px and below) */
        @media (max-width: 1024px) {
            .envelopes-container {
                grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
                max-width: 700px;
            }
        }

        /* Tablet portrait (768px and below) */
        @media (max-width: 768px) {
            .main-title {
                font-size: 2.5rem;
            }
            
            .envelopes-container {
                grid-template-columns: repeat(auto-fit, minmax(90px, 1fr));
                gap: 20px;
                max-width: 500px;
            }
            
            .envelope {
                width: 90px;
                height: 63px;
            }
            
            .envelope::before {
                border-left-width: 45px;
                border-right-width: 45px;
                border-top-width: 31px;
            }
            
            .letter-content {
                padding: 30px 20px;
            }
        }

        /* Mobile landscape (667px and below) */
        @media (max-width: 667px) and (orientation: landscape) {
            #homePage {
                min-height: auto;
                padding: 20px;
            }
            
            .main-title {
                font-size: 2rem;
                margin: 15px 0;
            }
            
            .envelopes-container {
                grid-template-columns: repeat(5, 1fr);
                gap: 15px;
                padding: 20px;
            }
            
            .envelope {
                width: 80px;
                height: 56px;
            }
            
            .envelope::before {
                border-left-width: 40px;
                border-right-width: 40px;
                border-top-width: 28px;
            }
        }

        /* Mobile portrait (480px and below) */
        @media (max-width: 480px) {
            .main-title {
                font-size: 2rem;
            }
            
            .envelopes-container {
                grid-template-columns: repeat(3, 1fr);
                gap: 15px;
                padding: 20px 10px;
            }
            
            .envelope {
                width: 80px;
                height: 56px;
            }
            
            .envelope::before {
                border-left-width: 40px;
                border-right-width: 40px;
                border-top-width: 28px;
            }
            
            .letter-content {
                padding: 20px 15px;
            }
            
            .letter-title {
                font-size: 1.5rem;
            }
            
            .back-btn {
                padding: 10px 20px;
                font-size: 0.9rem;
            }
            
            .pdf-container {
                height: 400px;
            }
        }

        /* Small mobile (320px and below) */
        @media (max-width: 320px) {
            .envelopes-container {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .envelope {
                width: 70px;
                height: 49px;
            }
            
            .envelope::before {
                border-left-width: 35px;
                border-right-width: 35px;
                border-top-width: 24px;
            }
        }

        /* Hidden audio elements */
        audio {
            display: none;
        }
        /* ========== FOOTER STYLES ========== */
        .home-footer {
            margin-top: 40px;
            padding: 30px 20px;
            text-align: center;
            max-width: 800px;
            width: 100%;
        }

        .footer-text {
            font-size: 1.2rem;
            color: #3a3428;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .footer-image {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>
    <!-- ==================== HOME PAGE SECTION ==================== -->
    <!-- This is the main landing page with all envelopes -->
    <div id="homePage">
        <!-- Main title with sparkle effects -->
        <h1 class="main-title">
            For Laiqa
            <!-- Sparkle elements for animation -->
            <span class="sparkle"></span>
            <span class="sparkle"></span>
            <span class="sparkle"></span>
            <span class="sparkle"></span>
            <span class="sparkle"></span>
            <span class="sparkle"></span>
            <span class="sparkle"></span>
            <span class="sparkle"></span>
            <span class="sparkle"></span>
            <span class="sparkle"></span>
        </h1>
        
        <!-- Container for all 20 envelopes -->
        <div class="envelopes-container" id="envelopesGrid">
            <!-- Envelopes will be generated by JavaScript -->
        </div>
        <!-- Footer section with text and image -->
        <div class="home-footer">
            <p class="footer-text">Laiqa,<br><br>We hope these can be reminders of how loved, missed, and prided you are.<br>Harvard is so lucky to have you and we are so lucky to know you.<br><br>Here are some songs that remind us of you <3</p>
            <img src="images/playlist.jpg" alt="Footer image" class="footer-image">
        </div>
    </div>

    <!-- ==================== LETTER PAGES SECTION ==================== -->
    <!-- Individual letter pages (hidden by default) -->
    <!-- These will be dynamically populated when envelopes are clicked -->
    <div id="letterPages">
        <!-- Letter pages will be generated by JavaScript -->
    </div>

    <!-- ==================== JAVASCRIPT SECTION ==================== -->
    <script>
        // ========== CONFIGURATION SECTION ==========
        // This object contains all the content for each letter
        // Modify this to change the content of each envelope
        const letterContents = {
            1: {
                title: "Mama",
                type: "text", // Options: "text", "images", "pdf", "mixed"
                text: "Hilliard, August 20, 2025\n\nMy Dearest Laiqa,\n\nSince you have been learning bahasa, I am going to write in Bahasa. I believe you understand it in shaa Allah.\n\nSetiap kali mama menidurkan Mizan, mengayun-ayunkannya (rocking him in my arm), mama teringat melakukan yang sama dengan mu Laiqa 23 tahun yang lalu. Pada waktu itu sambil mengayun-ayunkan untuk menidurkan mu, mama selalu membacakan surat Al Fatihah, Al Ikhlas, Al Falaq and An Nas, dengan harapan kamu terbiasa mendengarkan ayat-ayat suci Al Quran dan dengan mudah untuk belajar membaca dan menghafalkannya ( memorize) nanti kalua sudah besar (when you are not a baby anymore). Itu adalah kenangan yang sangat indah untuk mama (the most beautiful memories for me)\n\nAlhamdulillah kamu membaca Al Quran dengan indah dan juga hafalan Al Quran mu banyak, walaupun mungkin sekarang banyak yang lupa namun di alam bawah sadarmu (deep down) masih teringat. Mama selalu bangga dengan mu Laiqa dari kamu kecil sampai sekarang, always! Kamu pintar, pemberani dan baik hati. Selalu membuat bangga orang tua,menyenangkan mata dan hati orang tua, dan orang-orang disekitarmu.\n\nSebentar lagi kamu akan pergi jauh dari rumah, mengembangkan sayapmu (spread your wings). Doa-doa mama selalu untuk mu sayang. Mama percaya cita-cita mu akan tercapai (you will fulfil your dream). Allah akan menolongmu (Allah will help). Jaga dirimu baik-baik ya sayang, selalu ingat dengan Allah. Allah will protect you. Jangan lupa membalas text mama, so I know that you are okay. Please let us know anything that you need or something that bothered you, please don’t keep it to yourself. We will solve it together in shaa Allah. We are going to miss you for sure Laiqa sayang.\n\nWith a lot of love.\n\nMama",
            },
            2: {
                title: "Bapak",
                type: "text", // Options: "text", "images", "pdf", "mixed"
                text: "Laiqa, a word for you is Istiqamah, be firm and consistent. In order to be consistent in achieving your goal, you have to have clear, concise, and achievable goal. For example,'I want to get knowledge as much as possible within 3 years so that it can be beneficial for the ummah and for the sake of Allah'. In sha Allah, your steps will always move forward toward it. There will be some distractions and challenges ahead that will make you doubt of yourself and astray but you will always go back to the right direction because you will remember to your simple main goal: study for ummah and for the sake of Allah. May Allah make it easy for you. \n\nBapak",
            },
            3: {
                title: "Qisti",
                type: "mixed",
                images: ["qistipdf.jpg"],
            },
            4: {
                title: "Amalia",
                type: "mixed",
                text: "Dear Laiqa,\n\nWe are all very proud of you for achieving one of your lifelong dreams. Not a lot of people can say that, so it's something very special. I know you are scared about the future and moving out and that's normal but I hope it's also exciting. This new chapter will allow you to really experience yourself in a new light so try not to get too bogged down on the specifics and enjoy the ride. Work your hardest like you usually do, always center yourself around Allah swt and have fun. Everything else will fall into place. Let everything fall into place as it has and will.\n\nOur youngest sister and our parents' youngest daughter is already grown up and even if we don't say it everyday we love you. And I hope we can continue to remind you of that when you feel down. But if we miss a few times I hope in the bottom of your heart you will still believe it and can pull from it when you need strength. We will always support you wherever you are, so just do what your heart wants to do without any limitations. We'll always be there.\n\nAma and Mizu",
                images: ["ama.jpg"],
            },
            // Add configurations for letters 5-20
            5: { 
                title: "Fadila",
                type: "text",
                text: "Dear Laiqa, \n\nyou're going to do great at Harvard and getting ur masters but it's going to be lonely and weird without u at home. Lulu is gunna miss you and Lupin too. \n\nLove, \nDila \n\np.s. u better finish the music videos even if it's while ur in school",
                songs: ["The Beginning.mp3", "Say So.mp3"]
            },
            6: {
                title: "Holland",
                type: "text",
                text: "Raiq69,\n\nIm so proud of you. And so is Lupin. I hope you achieve your dreams at Harvard and one day design and build a house for Mizan. Even though youll be busy, dont stop making music. I cant wait to see you and the les paul guiطar on stage. We all love you and want to see you succeed, make a positive impact in the world and eventually provide Mizan with a cousin. We'll miss you, but we'll just come to Boston to visit. And get lobster rolls. Jangan lupa solat, telpon yamamu+bapak, dan cari pake..\n\nLove you, \nBolan",
            },
            7: {
                title: "Hanan",
                type: "mixed",
                images: ["Hanan_page-0001.jpg", "Hanan_page-0002.jpg", "Hanan_page-0003.jpg", "Hanan_page-0004.jpg"],
                songs: ["3_15.mp3", "Kiss Me More (feat. SZA).mp3", "Best Part (feat. H.E.R.).mp3", "Busy Woman.mp3", "Juicy.mp3", "My Life Would Suck Without You.mp3", "One Night.mp3", "PARANOIA.mp3", "Rewrite The Stars.mp3", "Savage Remix (feat. Beyoncé).mp3", "Secret Love Song (feat. Jason Derulo).mp3", "Sorry - Original Demo.mp3"],
            },
            8: {
                title: "Rayyan",
                type: "text",
                text: "To My Beautifully Talented Raiq,\n\nIts almost hard to believe your heading off to grad school, from growing up playing video games on your school ipad, to borrowing your laptop to watch youtube, times really do fly. I’ll never forget when you first gave me your ukulele, and the only song I knew was Lemonade, or when you first helped me revise my essay’s for my columbus state class.\n\nPart of me wishes time would turn back, to when you were still attending OSU, and we would go to all the events and shows, to a time when most of our worries were finals and deadlines, which somehow swept it’s way into rent, utilities, and bills. But I know that you of all people I can count on, to be a role model and someone I can always say I look up to. I’m so glad to say that WE (yes we) are going to Harvard inshallah, and I pray that whatever it is you hope to find there, that it finds you and 10x more.\n\nLove you the most Laiqa \n- your only brother, rayyan ",
                songs: ["Free.mp3"] 
            },
            9: {
                title: "Hisyam",
                type: "text",
                text: "thank you for always drive me back and forth campus and THE house! MVP fr \u{1F60C}🇮🇩🇺🇸 good luck in harvrd #indo #indoinharvard #proudtobeindinesian\n\nok serious thoughts. thank you for being my day 1 in america. you helped me a lot with social interaction because talking to you always feel smooth and never awkward. I'm really grateful to know someone like you, and I really consider you as one of my family, my big sister. Again, thank you for always driving me here and there. I feel like it's an annoying job but u would still do it regardless and I really appreciate that and those moments were my favorites because we could talk about anything and u wouldn't judge. also fun fact, I lowkey memorized the inside of knowlton lmao i went there a couple times last semester just because i was bored lol. well i think thats all from me i know its kinda short but trust me i'm really bad with writing how i feel. good luck with ur masters in harvard and have fun! was a bit sad when i knew u were going away from cbus cause it feels like to me that one by one people are just keep going away and idk if that what parents feel when their kids are moving out lol but hey its for the best!\n\n-  Hisyam", 
                songs: ["The Black Cat Nero.mp3"]
            },
            10: {
                title: "Raissa",
                type: "text",
                text: "Laiqa, where do I even begin?\n\nWe’ve been friends since as long as I can pretty much remember and growing up I always felt like your little sister following you around, especially since we have the same age gap you and the rest of your sisters have. There are so many firsts I remember experiencing with you growing up, from you teaching me how to play cat’s cradle and braid yarn, to you showing me how to wrap a scarf hijab for the first time. Through all the Just Dance sessions to Dynamite and binge watching Danny Phanton at my house during sleepovers, you have been a huge part of my life for so long.\n\nWhen we got a little older, we grew apart a little just because I think we were in really different stages of life where you were already growing up and I was still a little too young to follow along with that. But reconnecting and getting closer again over the past 2-3 yearsish has been such an incredible experience. We went back to hanging out again like we did before, but just a little older now.\n\nNow we have karaoke and band practices that last for hours and hours, not because we were practicing but because we were busy ranting and talking about everything in our lives. I wouldn’t have it any other way and I hope we never stop ranting to each other about the dumb people in our lives. And we’ll always have more Scheming Summers™️.\n\nFor pretty much our entire friendship, we’ve always lived in the same city and you’ve always been just a 7 minute drive away, and now we’ll be 7 hour drive away from each other in Boston and Virginia. But I’m so so so excited and proud of you and can’t wait to see and hear about what incredible things you get up to at Harvard. And now we  have our AMAZING SUPER AWESOME band and we’ll meet when we can and perform and be famous and play with NIKI and 5SOS and ONEOKROCK one day 🎸🥁\n\nThanks for always being my big sister, and I’m so excited to see what we get up to in the future as we keep growing up together.\n\nLove,\nRaissa\n\nP.S. You’re the best bandmate ever <3", 
                songs: ["I'm Yours.mp3", "Back To Me.mp3", "Oceans & Engines.mp3", "vampire.mp3"]
            },
            11: {
                title: "Jake",
                type: "mixed",
                images: ["Laiqa, - Jake Bibbo_page-0001.jpg", "Laiqa, - Jake Bibbo_page-0002.jpg", "Laiqa, - Jake Bibbo_page-0003.jpg", "Laiqa, - Jake Bibbo_page-0004.jpg", "Laiqa, - Jake Bibbo_page-0005.jpg", "Laiqa, - Jake Bibbo_page-0006.jpg"], 
                songs: ["Telephone.mp3"]
            },
            12: {
                title: "Raihan",
                type: "text",
                text: "assalamu alaykum laiqa!\n\ncongratulations again on getting into harvard. it's not the school that's impressive, it's your hard work and dedication. i pray Allah makes everything easy for you and makes your rizq flow smoothly. may Allah always keep you on the Straight path and make you successful in this life and in the Hereafter, ameen.\n\nyou've been a great friend to me my whole life and i really appreciate you always supporting me. i ask for your forgiveness if there's still any lingering feelings of annoyance or harm i caused you. thank you for being patient with me and trusting our friendship again and again. i pray Allah allows you to continue to excel in every facet of your life.\n\nyou're resilient, hard working, disciplined, and amazing, don't forget that. this is not a final goodbye (i don't think so), so really it's just until next time. congrats once more, and i wish you all the best!\n\nRaihan"
            },
            13: {
                title: "Maryam",
                type: "text",
                text: "Dear Laiqa (Laiwa),\n\nI don't even know where to begin, to be honest. I think we've known each other for over two decades at this point, and words really can't describe how happy I am that we are still in each other's lives to this day. You're the first person that introduced me to kpop and all things kdrama loll. No but for real, We've seen each other through some highs and lows and although there are times we go maybe even a year not seeing each other. I always find comfort in the fact that when we do see each other, nothing has ever changed. You are someone that brings a source of light and happiness in other people's lives, including myself. I've always, always admired how kind and warm you are, and how no matter what you always look for the good in people.\n\nThere are countless memories we've made together, and I hope that there are so, so, so many more we make together, Inshallah. You're entering a new chapter of your life, and I could not be more proud of you for all your hard work and dedication to this path that you are passionate about which is another thing I've always admired about you too. I will always be here rooting for you whenever you need me, and I truly hope your future is full of so much success and that our friendship remains as close-knit as it's always been, inshallah.\n\nI love you so much and am so, so deeply proud and excited for you. Stay in touch no matter where you are!\n\nLove,\nMaryam", 
                songs: ["Spring Day.mp3"]
            },
            14: {
                title: "Kautsar",
                type: "text",
                text: "Assalamualaikum Laiqa, \n\nI pray this message finds you well. I am excited and happy to see you going to your masters program especially in Harvard. I remember when you were mentioning about potentially doing your masters in the west coast especially in LA which would have been cool. The masters program will and sounds scary but I believe you got the knowledge and experience to tackle it. I’ve seen you tackle different problems, so this isn’t to you.\n\nI know it’s been a while since we connected but I know that we are all in our journeys that will inshaAllah connect us again soon. I have many fun memories, one that comes to mind is when we came back from 85 degrees in Austin and the passion fruit drink fell but had a hole in it and you drank it from your side like a frat boy would do on Saturday night haha. When I first met you I was a bit nervous only cause I didn’t know as many people from Mukt/IMSA that time. But when we met through our first kepala you were so open and friendly.\n\nI remember when you were so involved in that one open world game ( I forgot the name of it), to the point you customized your character. Me and Fadli were watching you play it through discord, the good old days.\n\nAlso one thing I forgot to mention, I told my mom that your major was architecture and she asked if you could build her a Japanese style home, haha. Let’s connect and see if that is possible inshaAllah.\n\nMay Allah make it easy for you in this new journey. May Allah grant you success and happiness in Boston. May Allah accept our doas and inshaAllah we will meet soon either in Mukt or in Columbus.\n\nTake care,\n\nWalakumsalaam wr wb\nKautsar R.",
            },
            15: {
                title: "Maddy",
                type: "mixed",
                images: ["madypdf.jpg"], 
                songs: ["Dance of the Sugar Plum Fairy.mp3", "Oil Drilling Rig White Noise.mp3", "Determinate - From _Lemonade Mouth_.mp3", "Super Bass.mp3"]
            },
            16: {
                title: "Praharshini",
                type: "text",
                text: "Dear Laiqa, \n\n\tI want to start off by saying WOOOOO YOU DID IT!!! YOU ARE GOING TO YOUR DREAM SCHOOL. HARVARD. HAAARVARD. I am so so happy for you and I cannot wait to see you achieve your goals and dreams. I think about the time we were at Knowlton (December 2024) applying for grad schools and now months later, you have been accepted and are attending your dream school. This is a huge milestone and accomplishment and I feel so honored to be able to celebrate with you. Even though we will be miles apart, we will always be trauma bonded by Knowlton. I remember during my junior year, I came to you and Kailtin in tears. I remember feeling absolutely hopeless about my final project... nothing was going right; but the advice you gave me during that moment changed the course of my attitude towards school. I carried this advice with me throughout my senior year, during the hardest times of school I always stuck to the advice you gave me. I kept telling myself, I have done this before and I can do it again and I made sure to let everyone know that as well when my peers were struggling. This field can be so toxic and competitive but I am forever grateful that I met you. You are so kind and hard-working, I always felt safe coming to you with my issues. Thank you for being you and being an amazing friend throughout these last few years. You have inspired me to push through and pursue my dreams. I remember when you competed in the pageant (i think that is what it's called) and you won it, it was so cool to see you fulfill your goals, I also have to add that you have a beautiful voice and I teared up during your performance with your mom. YOU ARE THAT GIRL!!!!!!!!!! I’m sad that this chapter in our lives is coming to a close but I am more happy and excited to see all the places you go. Have a safe move and I am wishing all good things for this next chapter.  \n\nLove,\nPraharshini <3", 
                songs: ["Where Have You Been - The Calvin Harris Extended Remix.mp3"]
            },
            17: {
                title: "Carlos",
                type: "text",
                text: ["Hello Laiqa,\n\nI don't know rightly how to say everything I need to say in this short message that is meant to give you a reminder of home, so I will do something else.\n\nWhen we first met, even before then, I was a terrified, horrified, and paranoid child, seeing the world as threats to my very way of life. Not because of what I believed, nor what I came from, but because of what I was... you taught me to be better than that.\n\nFrom our years in college, every opportunity I had was laden with skepticism and hesitation, bound by a resounding fear that if I succeed, I might get noticed, I might be exiled from the life I've built. Even a trip abroad felt like a trap laid bare, but you went to Japan, you brought back gifts. You showed me what true confidence in your skills can look like.\n\nEven in graduation, I saw how you beamed, how you became more than I ever thought possible for myself. How you sang or spoke for events to make the world better than it was, than it ever might be, because someone has to. And I need to say, more than anything in the world, than I am beyond proud of you.\n\nBecause you are Laiqa, a woman who taught me to be better than what I am, a woman who shone brighter and louder when the world begged her to remain silent, and a woman who will graduate and be one of the best architects I will ever have the honor of knowing. Because you are Laiqa, and without a shadow of a doubt, you will succeed.\n\nI am excited to see you in however many years it will take you to make your mark, to be the person I know you can be. But also, please remember. That you will leave a small part of you with each and every one of us. A memory of a person who plays cards and sings beautifully, who made her mark, like an anchor in our minds. I know we all would be happy to hear your journey too, so always feel free to reach out. Let's play hanafuda someday and maybe, maybe, I'll let you hear me sing for real.\n\nI wish you the best in everything, and will be here for you if you need anything,\n\nCarlos Antonio Reyes Ocon"],
            },
            18: {
                title: "Professor Iman",
                type: "text",
                text: ["Best of luck on this new chapter of your life Laiqa!\n\nProf. Iman"], 
            },
            19: {
                title: "Dema",
                type: "text",
                text: "Laiqa, I'm literally so so so proud of you and how far you have come. I truly only wish the best for you and I can't wait to continue to see you succeed in life and go after all your dreams. Inshallah all your duaas are accepted and you get everything that you have ever wanted. I'm so grateful and thankful to have someone like you in my life.\n\nI love you so much <333\n\nDema", 
                songs: ["Starships.mp3"]
            },
            20: {
                title: "Kaitlin",
                type: "mixed",
                images: ["Laiqa letter - Kaitlin Khammanh_page-0001.jpg", "Laiqa letter - Kaitlin Khammanh_page-0002.jpg"], 
                songs: ["A Whole New World.mp3", "Kiss Me Thru The Phone.mp3"]
            },
            21: {
                title: "Dhanu",
                type: "mixed",
                images: ["dhanupdf.jpg"], 
                songs: ["One Way Ticket.mp3"]
            }
        };

        // ========== INITIALIZATION SECTION ==========
        // This runs when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            generateEnvelopes();
            generateLetterPages();
        });

        // ========== ENVELOPE GENERATION ==========
        // Creates all 21 envelope elements
        function generateEnvelopes() {
            const container = document.getElementById('envelopesGrid');
            
            for (let i = 1; i <= 21; i++) {
                // Create envelope element
                const envelope = document.createElement('div');
                envelope.className = 'envelope';
                envelope.setAttribute('data-letter', i);
                
                // Add envelope number
                const number = document.createElement('span');
                number.className = 'envelope-number';
                number.textContent = i;
                envelope.appendChild(number);
                
                // Add click event
                envelope.addEventListener('click', function() {
                    openEnvelope(i);
                });
                
                container.appendChild(envelope);
            }
        }

        // ========== LETTER PAGE GENERATION ==========
        // Creates all letter page templates
        function generateLetterPages() {
            const container = document.getElementById('letterPages');
            
            for (let i = 1; i <= 21; i++) {
                const letterData = letterContents[i];
                
                // Create letter page container
                const letterPage = document.createElement('div');
                letterPage.className = 'letter-page';
                letterPage.id = `letter-${i}`;
                
                // Add back button
                const backBtn = document.createElement('button');
                backBtn.className = 'back-btn';
                backBtn.textContent = '← Back to Envelopes';
                backBtn.addEventListener('click', function() {
                    closeLetterPage(i);
                });
                
                // Create letter content container
                const letterContent = document.createElement('div');
                letterContent.className = 'letter-content';
                
                // Add title
                const title = document.createElement('h2');
                title.className = 'letter-title';
                title.textContent = letterData.title;
                letterContent.appendChild(title);
                
                // Add content based on type
                if (letterData.type === 'text' || letterData.type === 'mixed') {
                    const textDiv = document.createElement('div');
                    textDiv.className = 'letter-text';
                    textDiv.textContent = letterData.text;
                    letterContent.appendChild(textDiv);
                }
                
                if (letterData.type === 'images' || letterData.type === 'mixed') {
                    if (letterData.images && letterData.images.length > 0) {
                        const imagesDiv = document.createElement('div');
                        imagesDiv.className = 'letter-images';
                        
                        letterData.images.forEach(imageSrc => {
                            const img = document.createElement('img');
                            img.src = `images/${imageSrc}`;
                            img.alt = 'Letter image';
                            imagesDiv.appendChild(img);
                        });
                        
                        letterContent.appendChild(imagesDiv);
                    }
                }
                
                if (letterData.type === 'pdf') {
                    const pdfDiv = document.createElement('div');
                    pdfDiv.className = 'pdf-container';
                    
                    const loadingDiv = document.createElement('div');
                    loadingDiv.className = 'pdf-loading';
                    loadingDiv.textContent = 'Loading PDF...';
                    pdfDiv.appendChild(loadingDiv);
                    
                    const pagesDiv = document.createElement('div');
                    pagesDiv.className = 'pdf-pages';
                    pagesDiv.style.display = 'none';
                    pdfDiv.appendChild(pagesDiv);
                    
                    letterContent.appendChild(pdfDiv);
                    
                    // Load PDF using PDF.js
                    loadPDF(`pdfs/${letterData.pdf}`, pagesDiv, loadingDiv);
                }
                
                // Add music players if songs exist
                if (letterData.songs && letterData.songs.length > 0) {
                    // Add music heading
                    const musicHeading = document.createElement('h3');
                    musicHeading.textContent = 'Song(s) that remind me of you:';
                    musicHeading.style.cssText = 'color: #3a3428; font-size: 1.2rem; margin: 30px 0 15px 0; text-align: center;';
                    letterContent.appendChild(musicHeading);
                    
                    const musicDiv = document.createElement('div');
                    musicDiv.className = 'music-players';
                    
                    letterData.songs.forEach((songSrc, index) => {
                        // Create audio element
                        const audio = document.createElement('audio');
                        audio.id = `audio-${i}-${index}`;
                        audio.src = `songs/${songSrc}`;
                        
                        // Create player widget
                        const playerDiv = document.createElement('div');
                        playerDiv.className = 'music-player';
                        
                        // Play button
                        const playBtn = document.createElement('button');
                        playBtn.className = 'play-btn';
                        playBtn.innerHTML = '<span class="play-icon"></span><span class="pause-icon"></span>';
                        playBtn.addEventListener('click', function() {
                            togglePlayPause(audio, playBtn);
                        });
                        
                        // Song title
                        const songTitle = document.createElement('span');
                        songTitle.className = 'song-title';
                        songTitle.textContent = songSrc.replace('.mp3', '').replace(/-/g, ' ').replace(/_/g, ' ');
                        
                        // Progress bar
                        const progressBar = document.createElement('div');
                        progressBar.className = 'progress-bar';
                        const progressFill = document.createElement('div');
                        progressFill.className = 'progress-fill';
                        progressBar.appendChild(progressFill);
                        
                        // Update progress bar
                        audio.addEventListener('timeupdate', function() {
                            const progress = (audio.currentTime / audio.duration) * 100;
                            progressFill.style.width = progress + '%';
                        });
                        
                        // Click on progress bar to seek
                        progressBar.addEventListener('click', function(e) {
                            const rect = progressBar.getBoundingClientRect();
                            const x = e.clientX - rect.left;
                            const percentage = x / rect.width;
                            audio.currentTime = percentage * audio.duration;
                        });
                        
                        // Reset button when song ends
                        audio.addEventListener('ended', function() {
                            playBtn.classList.remove('playing');
                            progressFill.style.width = '0%';
                        });
                        
                        playerDiv.appendChild(playBtn);
                        playerDiv.appendChild(songTitle);
                        playerDiv.appendChild(progressBar);
                        
                        musicDiv.appendChild(audio);
                        musicDiv.appendChild(playerDiv);
                    });
                    
                    letterContent.appendChild(musicDiv);
                }
                
                // Assemble letter page
                letterPage.appendChild(backBtn);
                letterPage.appendChild(letterContent);
                container.appendChild(letterPage);
            }
        }

        // ========== ENVELOPE OPENING ANIMATION ==========
        // Handles the envelope click and opening animation
        function openEnvelope(letterNumber) {
            // Get the clicked envelope
            const envelope = document.querySelector(`[data-letter="${letterNumber}"]`);
            
            // Add opening animation class
            envelope.classList.add('opening');
            
            // Wait for animation then show letter page
            setTimeout(() => {
                // Hide home page
                document.getElementById('homePage').style.display = 'none';
                
                // Show corresponding letter page
                const letterPage = document.getElementById(`letter-${letterNumber}`);
                letterPage.classList.add('active');
                
                // Remove animation class for next time
                envelope.classList.remove('opening');
            }, 1000); // 1 second delay for animation
        }

        // ========== CLOSE LETTER PAGE ==========
        // Returns to the home page
        function closeLetterPage(letterNumber) {
            // Hide letter page
            const letterPage = document.getElementById(`letter-${letterNumber}`);
            letterPage.classList.remove('active');
            
            // Show home page
            document.getElementById('homePage').style.display = 'flex';
            
            // Stop all audio in this letter
            const audios = letterPage.querySelectorAll('audio');
            audios.forEach(audio => {
                audio.pause();
                audio.currentTime = 0;
            });
            
            // Reset all play buttons
            const playBtns = letterPage.querySelectorAll('.play-btn');
            playBtns.forEach(btn => {
                btn.classList.remove('playing');
            });
        }

        // ========== PDF LOADING FUNCTION ==========
        // Loads PDF and renders pages as images
        async function loadPDF(pdfUrl, pagesContainer, loadingDiv) {
            try {
                // Load PDF.js library if not already loaded
                if (typeof pdfjsLib === 'undefined') {
                    const script = document.createElement('script');
                    script.src = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js';
                    document.head.appendChild(script);
                    
                    await new Promise((resolve, reject) => {
                        script.onload = resolve;
                        script.onerror = reject;
                    });
                    
                    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
                }
                
                // Load the PDF
                const pdf = await pdfjsLib.getDocument(pdfUrl).promise;
                
                // Render each page
                for (let pageNum = 1; pageNum <= pdf.numPages; pageNum++) {
                    const page = await pdf.getPage(pageNum);
                    
                    // Create canvas for this page
                    const canvas = document.createElement('canvas');
                    canvas.className = 'pdf-page';
                    const context = canvas.getContext('2d');
                    
                    // Set viewport (scale for good quality)
                    const viewport = page.getViewport({ scale: 1.5 });
                    canvas.width = viewport.width;
                    canvas.height = viewport.height;
                    
                    // Render page to canvas
                    await page.render({
                        canvasContext: context,
                        viewport: viewport
                    }).promise;
                    
                    pagesContainer.appendChild(canvas);
                }
                
                // Hide loading, show pages
                loadingDiv.style.display = 'none';
                pagesContainer.style.display = 'flex';
                
            } catch (error) {
                console.error('Error loading PDF:', error);
                loadingDiv.textContent = 'Error loading PDF. Please check if the file exists.';
            }
        }

        // ========== MUSIC PLAYER CONTROLS ==========
        // Handles play/pause functionality
        function togglePlayPause(audio, button) {
            if (audio.paused) {
                // Pause all other audio elements first
                const allAudios = document.querySelectorAll('audio');
                const allButtons = document.querySelectorAll('.play-btn');
                
                allAudios.forEach((a, index) => {
                    if (a !== audio) {
                        a.pause();
                        allButtons[index].classList.remove('playing');
                    }
                });
                
                // Play this audio
                audio.play();
                button.classList.add('playing');
            } else {
                // Pause this audio
                audio.pause();
                button.classList.remove('playing');
            }
        }
    </script>
</body>
</html>